
- use chatgpt's advice to split up the file on functions for unit testing

- don't run whole program as sudo by default
- refactor and rewrite much better
